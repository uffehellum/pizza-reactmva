{"version":3,"file":"HoverCard.Target.Example.js","sourceRoot":"../src/","sources":["components/HoverCard/examples/HoverCard.Target.Example.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { BaseComponent } from 'office-ui-fabric-react/lib/Utilities';\r\nimport { HoverCard, IExpandingCardProps } from 'office-ui-fabric-react/lib/HoverCard';\r\nimport { DetailsList, buildColumns, IColumn } from 'office-ui-fabric-react/lib/DetailsList';\r\nimport { DirectionalHint } from 'office-ui-fabric-react/lib/common/DirectionalHint';\r\nimport { createListItems } from 'office-ui-fabric-react/lib/utilities/exampleData';\r\nimport './HoverCard.Example.scss';\r\nimport { KeyCodes } from '@uifabric/utilities';\r\n\r\nlet _items: any[];\r\n\r\nexport interface IHoverCardExampleState {\r\n  items?: any[];\r\n  columns?: IColumn[];\r\n}\r\n\r\ninterface IHoverCardFieldProps {\r\n  componentRef?: any;\r\n  content: HTMLDivElement;\r\n  expandingCardProps: IExpandingCardProps;\r\n}\r\n\r\ninterface IHoverCardFieldState {\r\n  contentRendered?: HTMLDivElement;\r\n}\r\n\r\nclass HoverCardField extends BaseComponent<IHoverCardFieldProps, IHoverCardFieldState> {\r\n  constructor(props: IHoverCardFieldProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      contentRendered: undefined\r\n    };\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div ref={(c: HTMLDivElement) => !this.state.contentRendered && this.setState({ contentRendered: c })} data-is-focusable={true}>\r\n        {this.props.content}\r\n        {this.state.contentRendered && (\r\n          <HoverCard\r\n            expandingCardProps={this.props.expandingCardProps}\r\n            target={this.state.contentRendered}\r\n            cardDismissDelay={300}\r\n            onCardVisible={this._log('onCardVisible')}\r\n            onCardHide={this._log('onCardHide')}\r\n            trapFocus={true}\r\n            openHotKey={KeyCodes.enter}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private _log(text: string): () => void {\r\n    return (): void => {\r\n      console.log(text);\r\n    };\r\n  }\r\n}\r\n\r\nexport class HoverCardTargetExample extends BaseComponent<{}, IHoverCardExampleState> {\r\n  constructor(props: {}) {\r\n    super(props);\r\n\r\n    _items = _items || createListItems(10);\r\n\r\n    this.state = {\r\n      items: _items,\r\n      columns: _buildColumns()\r\n    };\r\n  }\r\n\r\n  public render() {\r\n    const { items, columns } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <p>\r\n          Hover over the <i>key</i> cell of a row item to see the card or use the keyboard to navigate to it.\r\n        </p>\r\n        <p>\r\n          When using the keyboard to tab to it, open the card with the hotKey and it will automatically focus the first focusable element in\r\n          the card allowing further navigation inside the card.\r\n        </p>\r\n        <DetailsList\r\n          setKey=\"hoverSet\"\r\n          items={items!}\r\n          columns={columns}\r\n          onRenderItemColumn={this._onRenderItemColumn}\r\n          ariaLabel={'Hover card DetailsList test'}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private _onRenderItemColumn = (item: any, index: number, column: IColumn): JSX.Element => {\r\n    const expandingCardProps: IExpandingCardProps = {\r\n      onRenderCompactCard: this._onRenderCompactCard,\r\n      onRenderExpandedCard: this._onRenderExpandedCard,\r\n      renderData: item,\r\n      directionalHint: DirectionalHint.rightTopEdge,\r\n      gapSpace: 16\r\n    };\r\n\r\n    if (column.key === 'key') {\r\n      return (\r\n        <div className=\"HoverCard-item\">\r\n          <HoverCardField content={item.key} expandingCardProps={expandingCardProps} />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return item[column.key];\r\n  };\r\n\r\n  private _onRenderCompactCard = (item: any): JSX.Element => {\r\n    return (\r\n      <div className=\"hoverCardExample-compactCard\">\r\n        <a target=\"_blank\" href={`http://wikipedia.org/wiki/${item.location}`}>\r\n          {item.location}\r\n        </a>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  private _onRenderExpandedCard = (item: any): JSX.Element => {\r\n    const { items, columns } = this.state;\r\n    return (\r\n      <div className=\"hoverCardExample-expandedCard\">\r\n        {item.description}\r\n        <DetailsList setKey=\"expandedCardSet\" items={items!} columns={columns} />\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nfunction _buildColumns() {\r\n  return buildColumns(_items).filter(column => column.name === 'location' || column.name === 'key');\r\n}\r\n"]}